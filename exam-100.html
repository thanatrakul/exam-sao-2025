<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <title>ข้อสอบเก็งสอบ อบจ. พยาบาลวิชาชีพ — 100 ข้อ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

<header class="site-header">
  <div class="container header-inner">
    <div class="brand-block">
      <h1 class="brand-title">ข้อสอบ 100 ข้อ — อบจ. พยาบาลวิชาชีพ</h1>
      <p class="brand-subtitle">
        ภาค ก / ภาค ข / ภาค ค — แบบฝึกหัด 4 ตัวเลือก ตรวจคะแนนอัตโนมัติ + เฉลยพร้อมคำอธิบาย
      </p>
    </div>
    <div class="header-actions">
      <!-- ปุ่มกลับหน้าแรก -->
      <button class="btn btn-ghost" type="button" onclick="window.location.href='index.html'">
        <span class="icon">←</span>
        <span>กลับหน้าหลัก</span>
      </button>

      <!-- ลิงก์ไปข้อสอบ 100 ข้อ -->
      <button class="btn btn-primary" type="button" onclick="window.location.href='exam-notes.html'">
        <span class="icon">✔</span>
        <span>อ่านโน้ตรวม ภาค ก / ข / ค</span>
      </button>
    </div>
  </div>
  </div>
</header>

<main class="container exam-main">
  <!-- Hero สั้น ๆ ด้านบน -->
  <section class="hero">
    <h2 class="hero-title">ชุดข้อสอบเก็ง 100 ข้อ — ภาค ก / ภาค ข / ภาค ค</h2>
    <p class="hero-subtitle">
      แนะนำให้ลองทำ <strong>รอบแรกแบบไม่ดูเฉลย</strong> แล้วค่อยกดส่งข้อสอบเพื่อดูคะแนนรวมและคำอธิบาย
      จากนั้นย้อนกลับไปอ่านโน้ตในหัวข้อที่ทำผิดบ่อย แล้วทำซ้ำจนได้มากกว่า 80–90%
    </p>
  </section>

  <!-- layout 2 คอลัมน์: ซ้ายข้อสอบ / ขวาสรุปผล -->
  <div class="exam-layout">
    <!-- ฝั่งซ้าย: controls + questions -->
    <section class="exam-main-col">
      <!-- การ์ดควบคุมบนสุด -->
      <section class="card" id="exam-controls">
        <div class="card-header"
             style="display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;">
          <div>
            <div class="section-label">โหมดทำข้อสอบจำลอง</div>
            <h3 style="margin:.2rem 0 .4rem;font-size:1rem;color:var(--accent-strong);">
              ข้อสอบ 100 ข้อจากไฟล์
              <code data-role="exam-json-name">json/exam-100-1.json</code>
            </h3>
            <p style="font-size:.82rem;color:var(--muted);margin:0;">
              * ข้อสอบทั้งหมดโหลดจากไฟล์ JSON — แก้ไขหรือเพิ่มข้อสอบได้ง่าย ๆ โดยแก้ที่ไฟล์เดียว
            </p>
          </div>

          <!-- ปุ่มส่ง / ล้าง (ซ่อนด้วย CSS แต่ต้องมีไว้ให้ sticky bar ใช้) -->
          <div class="exam-actions">
            <button class="btn btn-primary" type="button" id="btn-submit">
              <span class="icon">✔</span>
              <span>ส่งข้อสอบ &amp; ดูเฉลย</span>
            </button>
            <button class="btn btn-ghost" type="button" id="btn-clear">
              <span class="icon">↻</span>
              <span>ล้างคำตอบทั้งหมด</span>
            </button>
          </div>
        </div>

        <!-- progress bar หลัก -->
        <div class="exam-progress-wrap" style="margin-top:.75rem;">
          <div class="exam-progress-bar">
            <div class="exam-progress-fill" id="exam-progress-fill"></div>
          </div>
          <div class="exam-progress-meta">
            <span id="exam-progress-text">ตอบแล้ว 0 / 0 ข้อ (0%)</span>
          </div>
        </div>

        <!-- กล่องสรุปคะแนนหลัง submit -->
        <div id="exam-summary" class="tip" style="margin-top:.7rem;display:none;"></div>
      </section>

      <!-- พื้นที่แสดงข้อสอบทั้งหมด -->
      <section id="exam-container" style="margin-top:1rem;">
        <div class="card" id="exam-loading">
          กำลังโหลดข้อสอบจาก
          <code data-role="exam-json-name">json/exam-100-1.json</code> ...
        </div>
      </section>
    </section>

    <!-- ฝั่งขวา: sidebar summary (ทั้งก้อน sticky) -->
    <aside class="exam-sidebar-col">
      <section class="card exam-sidebar exam-sidebar-sticky">
        <div class="section-label">สรุปสถานะข้อสอบ</div>
        <h3 style="margin:.3rem 0 .5rem;font-size:1rem;color:var(--accent-strong);">
          ความคืบหน้าการทำข้อสอบ
        </h3>

        <div class="exam-progress-bar small">
          <div class="exam-progress-fill" id="exam-progress-fill-sidebar"></div>
        </div>
        <p class="exam-progress-text" id="exam-progress-count"
           style="font-size:.82rem;margin:.3rem 0 .6rem;">
          ตอบแล้ว 0 / 0 ข้อ (0%)
        </p>

        <hr style="border:none;border-top:1px dashed var(--border);margin:.6rem 0;" />

        <h4 style="margin:0 0 .4rem;font-size:.9rem;color:var(--muted);">
          แผงข้อสอบแยกตามภาค (แตะเลขเพื่อเลื่อนข้อ)
        </h4>

        <div id="exam-result-sections" class="exam-result-sections"></div>

        <div style="margin-top:.6rem;font-size:.78rem;color:var(--muted);display:flex;flex-wrap:wrap;gap:.4rem;">
          <span><span class="legend-dot legend-empty"></span> ยังไม่ได้ตอบ</span>
          <span><span class="legend-dot legend-correct"></span> ตอบถูก</span>
          <span><span class="legend-dot legend-wrong"></span> ตอบผิด</span>
        </div>
      </section>
    </aside>
  </div>
</main>

<!-- ปุ่มกลับไปด้านบน (ให้ JS โชว์/ซ่อนเอง) -->
<button
  id="btn-scroll-top"
  class="exam-scroll-top-btn"
  type="button"
  aria-label="กลับไปด้านบน"
>
  <span class="icon">↑</span>
</button>

<!-- Sticky action bar ด้านล่างจอ (แสดงตลอดเวลา) -->
<div id="exam-sticky-bar" class="exam-sticky-bar" aria-hidden="false">
  <div class="exam-sticky-bar-inner">
    <div class="exam-sticky-status" id="exam-sticky-status">
      กำลังทำข้อสอบอยู่ — สามารถกดส่งข้อสอบหรือล้างคำตอบได้ทุกเวลา
    </div>
    <div class="exam-sticky-actions">
      <button class="btn btn-primary" type="button" id="btn-submit-sticky">
        <span class="icon">✔</span>
        <span>ส่งข้อสอบ &amp; ดูเฉลย</span>
      </button>
      <button class="btn" type="button" id="btn-clear-sticky">
        <span class="icon">⟲</span>
        <span>ล้างคำตอบทั้งหมด</span>
      </button>
    </div>
  </div>
</div>

<script src="js/exam-100.js" defer></script>
</body>
</html>
